var PriorityQueue=function(){function t(t){this.comparator=t,this.contents=[],this.sorted=!1}return t.prototype.sort=function(){return this.contents.sort(this.comparator),this.sotred=!0},t.prototype.push=function(t){return this.contents.push(t),this.sorted=!1},t.prototype.peek=function(t){return null==t&&(t=this.contents.length-1),this.sorted||this.sort(),this.contents[t]},t.prototype.pop=function(){return this.sorted||this.sort(),this.contents.pop()},t.prototype.size=function(){return this.contents.length},t.prototype.map=function(t){return this.contents.map(t)},t}(),MMCQ=function(){var l,i,h,D,a,f;function b(){this.maxIterations=1e3,this.fractByPopulations=.75}function t(t,e,o,n,r,i,s){this.r1=t,this.r2=e,this.g1=o,this.g2=n,this.b1=r,this.b2=i,this.histo=s}function e(){this.cboxes=new PriorityQueue(function(t,e){t=t.count()*t.volume(),e=e.count()*e.volume();return e<t?1:t<e?-1:0})}return b.rshift=8-(b.sigbits=5),D=function(t,e,o){return(t<<2*b.sigbits)+(e<<b.sigbits)+o},t.prototype.volume=function(t){return this._volume&&!t||(this._volume=(this.r2-this.r1+1)*(this.g2-this.g1+1)*(this.b2-this.b1+1)),this._volume},t.prototype.count=function(t){var e,o,n,r,i,s,u,c,h,a,f;if(!this._count_set||t){for(r=0,i=s=this.r1,h=this.r2;s<=h;i=s+=1)for(o=u=this.g1,a=this.g2;u<=a;o=u+=1)for(e=c=this.b1,f=this.b2;c<=f;e=c+=1)n=D(i,o,e),r+=this.histo[n]||0;this._count_set=!0,this._count=r}return this._count},t.prototype.copy=function(){return new t(this.r1,this.r2,this.g1,this.g2,this.b1,this.b2,this.histo)},t.prototype.average=function(t){var e,o,n,r,i,s,u,c,h,a,f,l,p,d,g;if(!this._average||t){for(s=1<<8-b.sigbits,o=r=c=h=0,u=a=this.r1,p=this.r2;a<=p;u=a+=1)for(n=f=this.g1,d=this.g2;f<=d;n=f+=1)for(e=l=this.b1,g=this.b2;l<=g;e=l+=1)i=D(u,n,e),h+=i=this.histo[i]||0,c+=i*(u+.5)*s,r+=i*(n+.5)*s,o+=i*(e+.5)*s;this._average=h?[~~(c/h),~~(r/h),~~(o/h)]:[~~(s*(this.r1+this.r2+1)/2),~~(s*(this.g1+this.g2+1)/2),~~(s*(this.b1+this.b2+1)/2)]}return this._average},t.prototype.contains=function(t){var e=t[0]>>b.rshift,o=t[1]>>b.rshift,t=t[2]>>b.rshift;return this.r1<=e&&e<=this.r2&&this.g1<=o&&o<=this.g2&&this.b1<=t&&t<=this.b2},l=t,e.prototype.push=function(t){return this.cboxes.push({cbox:t,color:t.average()})},e.prototype.palette=function(){return this.cboxes.map(function(t){return t.color})},e.prototype.size=function(){return this.cboxes.size()},e.prototype.map=function(t){var e,o=e=0,n=this.cboxes.size();if(e<n)return this.cboxes.peek(o).cbox.contains(t)?this.cboxes.peek(o).color:this.nearest(t)},e.prototype.cboxes=function(){return this.cboxes},e.prototype.nearest=function(t){for(var e,o,n,r=function(t){return t*t},i=1e9,s=n=0,u=this.cboxes.size();n<u;s=n+=1)(e=Math.sqrt(r(t[0]-this.cboxes.peek(s).color[0])+r(t[1]-this.cboxes.peek(s).color[1])+r(t[2]-this.cboxes.peek(s).color[2])))<i&&(i=e,o=this.cboxes.peek(s).color);return o},i=e,a=function(t){for(var e,o,n,r=new Array(1<<3*b.sigbits),i=0,s=t.length;i<s;i++)n=(o=t[i])[0]>>b.rshift,e=o[1]>>b.rshift,o=o[2]>>b.rshift,r[o=D(n,e,o)]=(r[o]||0)+1;return r},h=function(t,e){for(var o,n,r=1e6,i=0,s=1e6,u=0,c=1e6,h=0,a=0,f=t.length;a<f;a++)(n=(o=t[a])[0]>>b.rshift)<r?r=n:i<n&&(i=n),(n=o[1]>>b.rshift)<s?s=n:u<n&&(u=n),(o=o[2]>>b.rshift)<c?c=o:h<o&&(h=o);return new l(r,i,s,u,c,h,e)},f=function(t,l){var e,o,n,r,i,p,s,d,u,c,h,g,a,f,b,m,v,x,y,_,w,C,j,z,k,M,P,q,Q,I;if(l.count()){if(1===l.count())return[l.copy()];if(c=l.r2-l.r1+1,i=l.g2-l.g1+1,o=l.b2-l.b1+1,s=Math.max(c,i,o),g=0,d=[],p=[],s===c)for(u=a=l.r1,C=l.r2;a<=C;u=a+=1){for(h=0,r=f=l.g1,P=l.g2;f<=P;r=f+=1)for(e=b=l.b1,q=l.b2;b<=q;e=b+=1)h+=t[D(u,r,e)]||0;g+=h,d[u]=g}else if(s===i)for(r=m=l.g1,Q=l.g2;m<=Q;r=m+=1){for(h=0,u=v=l.r1,I=l.r2;v<=I;u=v+=1)for(e=x=l.b1,j=l.b2;x<=j;e=x+=1)h+=t[D(u,r,e)]||0;g+=h,d[r]=g}else for(e=y=l.b1,z=l.b2;y<=z;e=y+=1){for(h=0,u=_=l.r1,k=l.r2;_<=k;u=_+=1)for(r=w=l.g1,M=l.g2;w<=M;r=w+=1)h+=t[D(u,r,e)]||0;g+=h,d[e]=g}return d.forEach(function(t,e){return p[e]=g-t}),n=function(t){for(var e,o,n,r,i,s,u,c=t+"1",h=t+"2",a=u=l[c],f=l[h];u<=f;a=u+=1)if(d[a]>g/2){for(e=l.copy(),o=l.copy(),r=(i=a-l[c])<=(s=l[h]-a)?Math.min(l[h]-1,~~(a+s/2)):Math.max(l[c],~~(a-1-i/2));!d[r];)r++;for(n=p[r];!n&&d[r-1];)n=p[--r];return e[h]=r,o[c]=e[h]+1,[e,o]}},s===c?n("r"):s===i?n("g"):s===o?n("b"):void 0}},b.prototype.quantize=function(t,e){var s,o,u,n,r,c=this;if(!t.length||e<2||256<e)return console.log("invalid arguments"),!1;for(u=a(t),s=h(t,u),(n=new PriorityQueue(function(t,e){t=t.count(),e=e.count();return e<t?1:t<e?-1:0})).push(s),(t=function(t,e){for(var o,n,r=1,i=0;i<c.maxIterations;)if((s=t.pop()).count()){if(o=(n=f(u,s))[0],n=n[1],!o)return void console.log("cbox1 not defined; shouldn't happen");if(t.push(o),n&&(t.push(n),r++),e<=r)return;if(i++>c.maxIterations)return void console.log("infinite loop; perhaps too few pixels")}else t.push(s),i++})(n,this.fractByPopulations*e),r=new PriorityQueue(function(t,e){t=t.count()*t.volume(),e=e.count()*e.volume();return e<t?1:t<e?-1:0});n.size();)r.push(n.pop());for(t(r,e-r.size()),o=new i;r.size();)o.push(r.pop());return o},b}.call(this);(function(){function g(){}window.ColorExtract=(g.getColorMap=function(t,e,o,n,r,i){var s,u,c,h,a,f,l,p,d,g;for(null==i&&(i=8),c=t.getContext("2d").getImageData(e,o,n,r).data,h=[],d=(f=l=o)+r;l<d;f=l+=1)for(u=f*n*4,g=(a=p=e)+n;p<g;a=p+=1)h.push([c[s=u+4*a],c[1+s],c[2+s]]);return(new MMCQ).quantize(h,i)},g.colorDist=function(t,e){var o=function(t){return t*t};return o(t[0]-e[0])+o(t[1]-e[1])+o(t[2]-e[2])},g.extract=function(t,e,o){var n,r,i,s,u,c,h,a,f,l,p,d;for(e.width=25,e.height=25,e.getContext("2d").drawImage(t,0,0,e.width,e.height),(r=g.getColorMap(e,0,0,e.width,e.height,4).cboxes.map(function(t){return{count:t.cbox.count(),rgb:t.color}})).sort(function(t,e){return e.count-t.count}),n=r[0].rgb,(h=g.getColorMap(e,0,0,t.width,t.height,10).cboxes.map(function(t){return{count:t.cbox.count(),rgb:t.color}})).sort(function(t,e){return e.count-t.count}),f=a=0,p=h.length;f<p;f++)i=h[f],a<(s=g.colorDist(n,i.rgb))&&(a=s,u=i.rgb);for(l=a=0,d=h.length;l<d;l++)i=h[l],a<(s=g.colorDist(n,i.rgb))&&i.rgb!==u&&(a=s,c=i.rgb);return o({bgColor:(o=function(t){return"rgb("+t[0]+", "+t[1]+", "+t[2]+")"})(n),fgColor:o(u),fgColor2:o(c)})},g)}).call(this),function(u){u.fn.extend({jsPopupMenu:function(t){return this.each(function(){var t=u(this),e=t.find(".js-popup-menu-btn"),o=t.find(".js-popup-menu-popover");o.hide(),e.on("click",function(t){t.preventDefault(),o.is(":hidden")&&(o.show(),e.addClass("open"),setTimeout(function(){u(document).on("click.js-popup-menu-click",function(){o.hide(),e.removeClass("open"),u(this).off(".js-popup-menu-click")})},0))})}),this}}),u(".js-popup-menu").jsPopupMenu(),u.jquerySelect={init:function(t,e){t.wrap('<div class="jq-select" />');var o=t.parent(),n=u('<div class="jq-select-arrow"></div>'),r=u('<div class="jq-select-content" />'),i=u('<div class="jq-select-inner" />').text(t.children(":selected").text());r.append(i),o.append(r),o.append(n),t.hasClass("form_field_size_large")?(t.removeClass("form_field_size_large"),o.addClass("form_field_size_large")):t.hasClass("form_field_size_medium")?(t.removeClass("form_field_size_medium"),o.addClass("form_field_size_medium")):(t.hasClass("form_field_size_small")&&t.removeClass("form_field_size_small"),o.addClass("form_field_size_small")),t.change(u.proxy(function(){i.text(t.children(":selected").text())},this)),t.keyup(u.proxy(function(){i.text(t.children(":selected").text())},this)),t.bind("update",u.proxy(function(){i.text(t.children(":selected").text())},this))}},u.fn.extend({jqSelect:function(e){return this.each(function(){var t=u.extend({},e);u.jquerySelect.init(u(this),t)}),this}});new LazyLoad({threshold:500,elements_selector:".js-lazyload",callback_loaded:function(t){u(t).closest(".js-content-item-box").removeClass("not-loaded with-error").addClass("is-loaded")}});u(".js-cart-btn").click(function(){u(this).data("product-id")&&Voog.ShoppingCart.addProductById(u(this).data("product-id"))});window.site=u.extend(window.site||{},{handleProductPageContent:function(){var n,r,i,s;u(document).ready(function(){t()}),u(window).resize((n=function(){t()},r=25,function(){var t=this,e=arguments,o=i&&!s;clearTimeout(s),s=setTimeout(function(){s=null,i||n.apply(t,e)},r),o&&n.apply(t,e)}));var t=function(){var t=u(".js-product-page-image"),e=u(".js-product-page-image-wrap"),o=u(".js-buy-btn-content");1<=u(".js-buy-btn-content .edy-buy-button-container").length&&(u(window).width()<=752?u(".js-buy-btn-content .js-product-page-image").length<=0&&o.prepend(t):u(".js-product-page-image-wrap .js-product-page-image").length<=0&&e.prepend(t))}}}),window.addEventListener("scroll",function(t){var e=u(".header_fixed").height();u(".t-sticky").css("top",u(".header_fixed").outerHeight()+32),window.scrollY>e?(u(".header_fixed:not(.relative)").addClass("scroll"),u("body").addClass("scroll")):(u(".header_fixed").removeClass("scroll"),u("body").removeClass("scroll"))})}(jQuery);